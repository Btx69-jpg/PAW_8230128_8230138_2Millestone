<div class="container mt-4">
    <form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
        <!-- NIF -->
        <div class="mb-3">
            <label for="nif" class="form-label">NIF</label>
            <input type="number"
                    id="nif"
                    class="form-control"
                    formControlName="nif"
                    placeholder="Introduza o NIF (9 dígitos)">
            <div *ngIf="form.get('nif')?.invalid && form.get('nif')?.touched" class="text-danger">
                NIF inválido. Deve conter 9 dígitos.
            </div>
        </div>

        <!-- Rua -->
        <div class="mb-3">
            <label for="street" class="form-label">Rua</label>
            <input type="text"
                    id="street"
                    class="form-control"
                    formControlName="street"
                    placeholder="Introduza a rua">
            <div *ngIf="form.get('street')?.invalid && form.get('street')?.touched" class="text-danger">
                A rua é obrigatória.
            </div>
        </div>

        <!-- Código Postal -->
        <div class="mb-3">
            <label for="postal_code" class="form-label">Código Postal</label>
            <input type="text"
                    id="postal_code"
                    class="form-control"
                    formControlName="postal_code"
                    placeholder="0000-000">
            <div *ngIf="form.get('postal_code')?.invalid && form.get('postal_code')?.touched" class="text-danger">
                Código postal inválido (formato: 0000-000).
            </div>
        </div>

        <!-- Cidade -->
        <div class="mb-3">
            <label for="city" class="form-label">Cidade</label>
            <input type="text"
                    id="city"
                    class="form-control"
                    formControlName="city"
                    placeholder="Introduza a cidade">
            <div *ngIf="form.get('city')?.invalid && form.get('city')?.touched" class="text-danger">
                A cidade é obrigatória.
            </div>
        </div>

        <!-- Botões -->
        <div class="d-grid gap-2">
            <button type="submit" class="btn btn-success" [disabled]="form.invalid">
                <i class="bi bi-check-circle me-1"></i> Guardar
            </button>
            
            <button type="button"
                    class="btn btn-secondary"
                    (click)="goBack()">
                Cancelar
            </button>
        </div>
    </form>
</div>
